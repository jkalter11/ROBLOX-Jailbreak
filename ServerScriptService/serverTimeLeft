--[[The time left is sort of done twice. Once to show in the GUI in the bottom right, then
	second for the actual server time. This is the server time - time until the next round.
--]]
active = true

game.Players.PlayerAdded:connect(function(fuuu) --There was so much annoyance making this function, so I called the argument FUUUUU
	print("Works!")
	local userData = Instance.new("NumberValue")
	userData.Parent = game.ReplicatedStorage.userData
	userData.Name = tostring(game.Players.LocalPlayer)
	
	if fuuu.TeamColor.Name == "Really red" then
		userData.Value = 0
	elseif fuuu.TeamColor.Name == "Really blue" or fuuu.TeamColor.Name == "Lapis" then
		userData.Value = 1
	end
end)

while active do
	game.ReplicatedStorage.timeLeft.Value = game.ReplicatedStorage.timeLeft.Value - 1
	if game.ReplicatedStorage.timeLeft.Value == 0 then
		active = false
	end
	wait(1)
end

if not active then
	print("Round over, switching to new round")
	wait(5)
	game.Players.LocalPlayer.Character.Humanoid.Health = 0
	print("DEATH HAS BEEN WROUGHT!")
	local userData = game.ReplicatedStorage.userData:FindFirstChild(tostring(game.Players.LocalPlayer))
	if userData.Value == 0 then
		game.Players.LocalPlayer.TeamColor.Name = "Really red"
	elseif userData.Value == 1 then
		game.Players.LocalPlayer.TeamColor.Name = "Really blue"
	end
end
